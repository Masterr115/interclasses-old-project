<div class="account" id="account">
  <div class="container">
    <div class="content-flex">

      <section class="sidebar">
        <ul class="sidebar-menu">
          <li class="mainmenu">
            <a href="/admin">
              <span>Controle</span>
            </a>
          </li>
          <li class="mainmenu">
            <a href="/admin-members">
              <span>Membros</span>
            </a>
          </li>
          <li class="mainmenu active">
            <a class='active' href="/admin-games">
              <span>Jogos</span>
            </a>
          </li>
          <li class="mainmenu">
            <a href="/admin-points">
              <span>Pontuação</span>
            </a>
          </li>

        </ul>
      </section>

      <div class="body-right">
        <h2 class='pr-5 mr-5'>Jogos</h2>
        <div class='text-right ml-5 pl-5'><button class='btn btn-success' data-target="#ModalCreate"
            data-toggle="modal">Adicionar</button></div>
        <div class="row">
          <div class='d-flex flex-wrap justify-content-between align-content-between align-items-start pt-3 pl-2'>

            {{#each games}}

            <div class="shadow p-3 mb-4 bg-white rounded card p-1 bd-highlight mr-5" style="width: 18rem ">
              <div class="text-center"><img class="card-img-top card-header " src={{img}} alt="Imagem" width="150">
              </div>
              <div class="card-body">
                <h5 class="card-title text-center">{{name}} - {{rooms}}</h5>
                <p class="card-text text-center">Descrição: {{description}}<br><strong>Data:
                    {{formatdate date}}</strong>
                </p>
                <div class="text-right card-footer">
                  <button
                    onclick='openModalEditGame(`{{_id}}`, `{{name}}`, `{{description}}`, `{{rooms}}`, `{{date}}`, `{{img}}`, `{{winner}}`, `{{location}}`, `{{prize}}`)'
                    class="btn btn-warning">Editar</button>
                  <button onclick="deleteGame(`{{_id}}`)" class="btn btn-danger">Deletar</button>
                </div>
              </div>
            </div>

            {{/each}}
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="ModalCreate" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Adicionando Jogo</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class='modal-body'>
            <form name='createGame' method="POST">

              <h5>Nome: </h5><input type="text" class="form-control" name="name"><br>
              <h5>Descrição: </h5><input type="text" class="form-control" name="description"><br>
              <h5>Salas participantes: </h5><input type="text" class="form-control" name="rooms"><br>
              <h5>Link da imagem: </h5><input type="text" class="form-control" name="imglink"><br>
              <h5>Data em long: </h5><input type="text" class="form-control" name="date"><br>
              <h5>Local: </h5><input type="text" class="form-control" name="location"><br>
              <h5>Prêmio: </h5><input type="text" class="form-control" name="prize"><br>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            <button type="button" class="btn btn-success" onclick="addGame()" data-dismiss="modal">Adicionar</button>
          </div>
          </form>
        </div>
      </div>
    </div>

    <div class="modal fade" id="EditGameModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Informações</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class='modal-body'>
            <form method="POST">

              <h5>ID: </h5><input type="text" class="form-control" id="id" value="" readonly='readonly'><br>
              <h5>Nome: </h5><input type="text" class="form-control" id="name" value="{{name}}"><br>
              <h5>Descrição: </h5><input type="text" class="form-control" id="description" value="{{description}}"><br>
              <h5>Salas: </h5><input type="text" class="form-control" id="rooms" value="{{rooms}}"><br>
              <h5>Link da imagem: </h5><input type="text" class="form-control" id="img" value="{{img}}"><br>
              <h5>Data em long: </h5><input type="text" class="form-control" id="date" value="{{date}}"><br>
              <h5>Ganhador: </h5><input type="text" class="form-control" id="winner" value="{{winner}}"><br>
              <h5>Local onde será: </h5><input type="text" class="form-control" id="location" value="{{location}}"><br>
              <h5>Prêmio: </h5><input type="text" class="form-control" id="prize" value="{{prize}}"><br>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            <button type="button" class="btn btn-success" data-dismiss="modal" onclick="updateGame()">Salvar
              aterações</button>
          </div>
          </form>
        </div>
      </div>
    </div>